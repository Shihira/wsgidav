<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="generator" content="WsgiDAV/{{ version }}">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>WsgiDAV - Index of {{ display_path }} </title>

  <link rel="shortcut icon" href="{{ htdocs }}/favicon.ico">
  <link rel="stylesheet" href="{{ htdocs }}/style.css" />
  <link href="https://cdn.staticfile.org/twitter-bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">

  <script src="https://cdn.staticfile.org/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdn.staticfile.org/twitter-bootstrap/3.0.0/js/bootstrap.min.js"></script>
</head>

<body>
  <div class="container">
    <h1>
      Index of {{ display_path }}
    </h1>

    <div class="panel panel-default">
      <div class="panel-heading">Upload Files</div>
      <div class="panel-body">
        <form id="upload-form">
          <input id="upload-file" type="file"/>
          <br/>
          <button id="upload-button" type="button" class="btn btn-primary">Upload</button>
        </form>
      </div>
    </div>

    <table class="table table-condensed table-hover">

      <thead>
        <tr>
          <th></th>
          <th>Name</th>
          <th>Size</th>
          <th>Last modified</th>
        </tr>
      </thead>

      <tbody>
        {%- if parent_url %}
        <tr>
          <td>
            <span class="glyphicon glyphicon-folder-open"></span>
          </td>
          <td>
            <a href="{{ parent_url }}">[Parent Directory] ../</a>
          </td>
          <td>-</td>
          <td></td>
        </tr>
        {% endif -%}

        {% for row in rows %}
        <tr>
          {% if row.display_type == "Directory" %}
            <td><span class="glyphicon glyphicon-folder-open command-button"></span></td>
            <td><a href="{{ row.href }}">{{row.display_name}}/</a></td>
          {% else %}
            <td><span class="glyphicon glyphicon-file command-button"></span></td>
            <td><a href="{{ row.href }}">{{row.display_name}}</a></td>
          {% endif %}
          <td>{{ row.str_size }}</td>
          <td>{{ row.str_modified }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <hr>

    {% if trailer %}
    <p class="trailer">{{ trailer }}</p>
    {% endif %}
  </div>

  <div class="modal fade" tabindex="-1" role="dialog" id="command-dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <p class="modal-title" id="command-title"></p>
        </div>
        <div class="modal-body center">
          <a class="btn btn-primary btn-block" data-require-ext="cbz" id="command-cbz">Open in Comic Reader</a>
          <a class="btn btn-primary btn-block" data-require-ext="md" id="command-md">Open in Markdown Viewer</a>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <script defer src="{{ htdocs }}/script.js"></script>
</body>
</html>
